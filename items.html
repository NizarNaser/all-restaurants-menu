<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description"
        content="Discover our delicious restaurant menu: bar, kitchen, wines, and cocktails. Enjoy a modern and responsive design.">
    <meta name="keywords" content="Restaurant, Menu, Bar, Kitchen, Cocktails, Food, Responsive">
    <meta name="author" content="Your Restaurant Name">
    <title>Our Restaurant Menu</title>

    <!-- رابط ملف التنسيق -->
    <link rel="stylesheet" href="style.css" />

    <!-- أيقونة الموقع (favicon) -->
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="manifest" href="images/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

</head>

<body>
    <!-- Navbar -->
    <nav class="navbar" >
        <div class="nav-container">
          <a href="/all-restaurants-menu/index.html" class="logo">
            <img src="images/logo.png" alt="Restaurant Logo">
    
          </a>
    
          <ul class="nav-links">
            <li><a href="/all-restaurants-menu/index.html">Home</a></li>
    
            <li class="dropdown">
              <a id="menu" href="#menu">Menu</a>
              <ul class="dropdown-menu">
                <li><a href="" onclick="window.location.href='/all-restaurants-menu/items.html?cat=Bar'">Bar</a></li>
                <li><a href="" onclick="window.location.href='/all-restaurants-menu/items.html?cat=Kitchen'">Kitchen</a></li>
                <li><a href="#favorites">Favorites</a></li>
              </ul>
            </li>
    
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a class="reservation-top-memu" href="#reservation" type="submit">Book Now</a></li>
          </ul>
    
          <div class="hamburger"><span>&#9776;</span><span>&#9776;</span><span>&#9776;</span></div>
        </div>
      </nav>

    <!-- Full-width Hero Image -->
    <div class="dish-hero scroll-reveal" style="background-image: url('images/bar.jpg');"></div>

    <!-- Sections categoris -->

    <section id="categories" class=" categories-container  scroll-reveal"></section>
    <div class="arrows scroll-reveal">
        <span class="arrow left">&#8592;</span>
        <span class="arrow right">&#8594;</span>
    </div>

    <hr class="section-divider" />


    <!-- Sections for Menu -->


    <section id="food-items" class="menu-section scroll-reveal">
        <div>
            <h3>Beer</h3>
            <ul class="items-list">
                <li class="item" onclick="location.href='dish-details.html?id=1'">
                    <img src="images/beers/heineken.jpg" alt="Heineken Beer" class="item-img" />
                    <div class="item-details">
                        <h4>Heineken</h4>
                        <p>Refreshing pale lager beer.</p>
                    </div>
                    <span class="price">€4.50</span>
                </li>
            </ul>
        </div>


    </section>


    <!-- Favorites Section -->
    <section id="favorites" class="menu-section scroll-reveal">
        <h2>Favorites</h2>

        <div class="favorites-slider">
            <div id="favorites-track"  class="favorites-track">
            
                <!-- يمكن إضافة المزيد من الوجبات بنفس النمط -->
            </div>
        </div>
    </section>
    <footer class="footer scroll-reveal">
        <div class="footer-container">
            <div class="footer-about">
                <h3>About Us</h3>
                <p>We offer quality services and products to make your experience unforgettable. Thank you for choosing
                    us!</p>
            </div>

            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#menu">Menu</a></li>
                    <li><a href="#favorites">Favorites</a></li>
                    <li><a href="#team">Team</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>

            <div class="footer-contact">
                <h3>Contact</h3>
                <p>Phone: +49 171 9481424</p>
                <p>Email: info@example.com</p>
                <p>Address: Lug ins Land 28, Hann Münden</p>
            </div>
        </div>
        <div class="footer-social">
            <h3>Follow Us</h3>
            <div class="social-icons">
                <a href="https://facebook.com" target="_blank" aria-label="Facebook"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="https://twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://instagram.com" target="_blank" aria-label="Instagram"><i
                        class="fab fa-instagram"></i></a>
                <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"><i
                        class="fab fa-linkedin-in"></i></a>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; <span id="year">
                    <script>
                        document.getElementById("year").textContent = new Date().getFullYear();
                    </script>
                </span> Your Website Name. All rights reserved.</p>
        </div>
    </footer>


    <button id="backToTop" title="Go to top">↑</button>

    <!-- ملف الجافا سكريبت -->
    <!-- ملف الجافا سكريبت -->
    <script src="./assets/assets.js"></script>
    <script>  const revealElements = document.querySelectorAll('.scroll-reveal');

        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            revealElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                if (elementTop < windowHeight - 100) {
                    el.classList.add('visible');
                }
            });
        };

        window.addEventListener('scroll', revealOnScroll);
        window.addEventListener('load', revealOnScroll); // تشغيل عند تحميل الصفحة
        const backToTopBtn = document.getElementById("backToTop");

        window.addEventListener("scroll", () => {
            if (window.scrollY > 300) {
                backToTopBtn.style.display = "block";
            } else {
                backToTopBtn.style.display = "none";
            }
        });

        backToTopBtn.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        });
        // main.js
        window.addEventListener("DOMContentLoaded", () => {
  const categoryContainer = document.getElementById("categories");
  const foodContainer = document.getElementById("food-items");

  // استخراج القسم المطلوب من الرابط (Bar أو kitchen ...)
  const urlParams = new URLSearchParams(window.location.search);
  const sectionFromURL = urlParams.get("cat");

  // فلترة الكاتيغوري بحسب addel (مثلاً فقط Bar)
  const filteredCategories = menu_list.filter(
    (item) => item.addel.toLowerCase() === sectionFromURL?.toLowerCase()
  );

  // في حال لا يوجد تطابق
  if (filteredCategories.length === 0) {
    categoryContainer.innerHTML = "<p>لا توجد كاتيغوري متاحة لهذا القسم</p>";
    return;
  }

  // إنشاء الكاتيغوريات المطابقة
  filteredCategories.forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "category-card";
    card.dataset.category = item.menu_name;

    if (index === 0) {
      card.classList.add("active");
      setTimeout(() => {
        card.scrollIntoView({ behavior: "smooth", inline: "center" });
      }, 200);
      showFoodItems(item.menu_name); // عرض أطعمتها تلقائيًا
    }

    card.innerHTML = `
      <img src="${item.menu_image}" alt="${item.menu_name}" />
      <h3>${item.menu_name}</h3>
    `;

    card.addEventListener("click", () => {
      document.querySelectorAll(".category-card").forEach(el => el.classList.remove("active"));
      card.classList.add("active");
      card.scrollIntoView({ behavior: "smooth", inline: "center" });
      showFoodItems(item.menu_name);
    });

    categoryContainer.appendChild(card);
  });




           

            function showFoodItems(category) {
                const filtered = food_list.filter(food => food.category === category);
                const itemsPerPage = 4; // عدد العناصر في كل صفحة
                let currentPage = 1;

                const foodContainer = document.getElementById("food-items");
                foodContainer.innerHTML = "";

                const paginationContainer = document.createElement("div");
                paginationContainer.className = "pagination";

                // عرض الصفحة الحالية
                function renderPage(page) {
                    currentPage = page;
                    foodContainer.innerHTML = ""; // إعادة ضبط المحتوى
                    const start = (page - 1) * itemsPerPage;
                    const end = start + itemsPerPage;
                    const currentItems = filtered.slice(start, end);

                    const title = document.createElement("h2");
                    title.textContent = category;
                    foodContainer.appendChild(title);

                    currentItems.forEach(food => {
                        const card = document.createElement("div");
                        card.className = "food-card";
                        card.innerHTML = `
        <ul class="items-list">
          <li class="item" onclick="location.href='/all-restaurants-menu/dish-details.html?id=${food._id}'">
            <img src="${food.image}" alt="${food.name}" class="item-img" />
            <div class="item-details">
              <h4>${food.name}</h4>
              <p>${food.description}</p>
            </div>
            <span class="price">€ ${food.price}</span>
            <span class="price"><i class="fas fa-weight"></i> ${food.gram}</span>
          </li>
        </ul>
      `;
                        foodContainer.appendChild(card);
                    });

                    renderPagination(); // إعادة توليد أزرار التنقل
                }

                // توليد أزرار التنقل
                function renderPagination() {
                    paginationContainer.innerHTML = ""; // مسح القديم
                    const totalPages = Math.ceil(filtered.length / itemsPerPage);

                    if (totalPages <= 1) return; // لا حاجة للتنقل

                    // زر السابق
                    if (currentPage > 1) {
                        const prev = document.createElement("button");
                        prev.textContent = "←";
                        prev.addEventListener("click", () => renderPage(currentPage - 1));
                        paginationContainer.appendChild(prev);
                    }

                    // أزرار الصفحات
                    for (let i = 1; i <= totalPages; i++) {
                        const btn = document.createElement("button");
                        btn.textContent = i;
                        if (i === currentPage) btn.classList.add("active");
                        btn.addEventListener("click", () => renderPage(i));
                        paginationContainer.appendChild(btn);
                    }

                    // زر التالي
                    if (currentPage < totalPages) {
                        const next = document.createElement("button");
                        next.textContent = "→";
                        next.addEventListener("click", () => renderPage(currentPage + 1));
                        paginationContainer.appendChild(next);
                    }

                    foodContainer.appendChild(paginationContainer);
                }

                // عرض الصفحة الأولى
                renderPage(1);
            }

        });



        // التحكم في السحب باستخدام الأسهم
        const container = document.getElementById("categories"); // ✅ هذا السطر يحل المشكلة
        const leftArrow = document.querySelector(".arrow.left");
        const rightArrow = document.querySelector(".arrow.right");

        const scrollAmount = 300; // المسافة عند كل ضغط

        rightArrow.addEventListener("click", () => {
            container.scrollBy({ left: scrollAmount, behavior: "smooth" });
        });

        leftArrow.addEventListener("click", () => {
            container.scrollBy({ left: -scrollAmount, behavior: "smooth" });
        });


        function renderFavoriteToppings(food_list) {
    const favoritesContainer = document.getElementById("favorites-track");
  
    // تفريغ المحتوى القديم
    favoritesContainer.innerHTML = "";
  
    // استخراج 10 عناصر topping: true عشوائيًا
    const toppings = food_list
      .filter(item => item.topping === true)
      .sort(() => 0.5 - Math.random())
      .slice(0, 10);
  
    // إنشاء العناصر وعرضها
    toppings.forEach(item => {
      const div = document.createElement("div");
      div.className = "favorite-item";
      div.onclick = () => location.href = `dish-details.html?id=${item._id}`;
  
      div.innerHTML = `
        <img src="${item.image}" alt="${item.name}" />
        <h4>${item.name}</h4>
        <p>${item.description}</p>
        <div class="price">
          <span class="original-price">€${item.price}</span>
          <span class="discounted-price">€${item.price - item.price/10}</span>
        </div>
      `;
  
      favoritesContainer.appendChild(div);
    });
  }
  
  // استدعاء الدالة عند تحميل الصفحة
  window.addEventListener("DOMContentLoaded", () => {
    renderFavoriteToppings(food_list);
  });
  



    </script>
</body>

</html>